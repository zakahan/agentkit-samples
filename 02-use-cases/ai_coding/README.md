# AI Coding Agent - æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºç«å±±å¼•æ“AgentKitæ„å»ºçš„æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ç³»ç»Ÿï¼Œä¸“é—¨ç”¨äºå¸®åŠ©ç”¨æˆ·è§£å†³å„ç±»ç¼–ç¨‹é—®é¢˜ã€‚ç³»ç»Ÿé›†æˆäº†ä»£ç æ‰§è¡Œæ²™ç®±ã€TOSå¯¹è±¡å­˜å‚¨æœåŠ¡å’Œé•¿æœŸè®°å¿†åŠŸèƒ½ï¼Œèƒ½å¤Ÿæä¾›ä¸“ä¸šã€é«˜æ•ˆçš„ç¼–ç¨‹è¾…åŠ©ä½“éªŒã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½ç¼–ç¨‹å¯¹è¯**ï¼šåŸºäºAIçš„æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼Œèƒ½å¤Ÿç†è§£ç”¨æˆ·ç¼–ç¨‹éœ€æ±‚å¹¶æä¾›å‡†ç¡®ä»£ç è§£å†³æ–¹æ¡ˆ
- **ä»£ç æ‰§è¡ŒéªŒè¯**ï¼šåœ¨æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œä»£ç ï¼ŒéªŒè¯ä»£ç çš„æ­£ç¡®æ€§å’Œè¿è¡Œæ•ˆæœ
- **å‰ç«¯ä»£ç æ‰˜ç®¡**ï¼šè‡ªåŠ¨å°†å‰ç«¯ä»£ç ï¼ˆHTML/CSS/JSï¼‰ä¸Šä¼ è‡³TOSå¯¹è±¡å­˜å‚¨ï¼Œå¹¶ç”Ÿæˆå¯è®¿é—®çš„é¢„è§ˆé“¾æ¥
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒPythonã€Javaã€JavaScriptã€Goç­‰å¤šç§ç¼–ç¨‹è¯­è¨€
- **é•¿æœŸè®°å¿†**ï¼šæ”¯æŒä¼šè¯è®°å¿†å’Œç”¨æˆ·å†å²è®°å½•å­˜å‚¨
- **è§‚æµ‹èƒ½åŠ›**ï¼šé›†æˆOpenTelemetryè¿½è¸ªå’ŒAPMPlusç›‘æ§

## é¡¹ç›®ç»“æ„

```
ai-coding/
â”œâ”€â”€ agent.py    # ä¸»æ™ºèƒ½ä½“åº”ç”¨ï¼ŒåŒ…å«æ™ºèƒ½ä½“é…ç½®å’Œè¿è¡Œé€»è¾‘
â”œâ”€â”€ tools.py              # å·¥å…·å‡½æ•°æ¨¡å—ï¼ŒåŒ…å«TOSä¸Šä¼ ã€URLç”Ÿæˆç­‰åŠŸèƒ½
â”œâ”€â”€ example-agentkit.yaml # AgentKité…ç½®æ–‡ä»¶ï¼Œå®šä¹‰éƒ¨ç½²å‚æ•°å’Œç¯å¢ƒå˜é‡
â”œâ”€â”€ requirements.txt      # Pythonä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
ç”¨æˆ·è¯·æ±‚
    â†“
AgentKit - Runtime
    â†“
AI Coding Agent (ä¸»æ™ºèƒ½ä½“)
    â”œâ”€â”€ ä»£ç æ‰§è¡Œå·¥å…· (run_code)
    â”œâ”€â”€ TOSä¸Šä¼ å·¥å…· (upload_frontend_code_to_tos)
    â”œâ”€â”€ URLç”Ÿæˆå·¥å…· (get_url_of_frontend_code_in_tos)
    â””â”€â”€ ä»£ç æ™ºèƒ½ä½“ (å­æ™ºèƒ½ä½“)
        â””â”€â”€ ä»£ç ç”Ÿæˆå¼•æ“
```

### å·¥å…·é›†æˆ

ç³»ç»Ÿé›†æˆäº†ä»¥ä¸‹æ ¸å¿ƒå·¥å…·ï¼š

- **ä»£ç æ‰§è¡Œå·¥å…·**ï¼šåŸºäºæ²™ç®±ç¯å¢ƒçš„å®‰å…¨ä»£ç æ‰§è¡Œ
- **TOSä¸Šä¼ ä¸ä¸‹è½½å·¥å…·**ï¼šè‡ªåŠ¨åŒ–å‰ç«¯ä»£ç æ‰˜ç®¡

## è¯¦ç»†é…ç½®æŒ‡å—

### 1. å‰ç½®å‡†å¤‡

#### è·å–AK/SK

1. ç™»å½•ç«å±±å¼•æ“æ§åˆ¶å° (https://console.volcengine.com)
2. è¿›å…¥"è®¿é—®æ§åˆ¶" â†’ "å¯†é’¥ç®¡ç†"
3. ç‚¹å‡»"åˆ›å»ºå¯†é’¥"ï¼Œç”Ÿæˆæ–°çš„Access Keyå’ŒSecret Key
4. ä¸ºAK/SKé…ç½®AgentKitäº§å“æƒé™ï¼š
   - è¿›å…¥"è®¿é—®æ§åˆ¶" â†’ "ç­–ç•¥ç®¡ç†"
   - æ·»åŠ AgentKitç›¸å…³æƒé™ã€æ·»åŠ  TOS è¯»å†™æƒé™
   - å°†ç­–ç•¥ç»‘å®šåˆ°AK/SK

#### è·å–AgentKitå·¥å…·ID

1. ç™»å½•ç«å±±å¼•æ“AgentKitæ§åˆ¶å°
2. è¿›å…¥"å·¥å…·ç®¡ç†" â†’ "å·¥å…·åˆ—è¡¨"
3. åˆ›å»ºæ–°å·¥å…·ï¼š
   - å·¥å…·åç§°ï¼šai-coding-agent
   - æè¿°ï¼šAIç¼–ç¨‹åŠ©æ‰‹å·¥å…·
4. å¤åˆ¶æ˜¾ç¤ºçš„å·¥å…·IDï¼Œç”¨äºåç»­é…ç½®

### 2. éƒ¨ç½²åˆ°äº‘ä¸Šï¼ˆä»æœ¬åœ°éƒ¨ç½²åˆ°AgentKitï¼‰

#### é…ç½®agentkit.yaml

1. é‡å‘½å `example-agentkit.yaml` ä¸º `agentkit.yaml`
2. ç¼–è¾‘ `agentkit.yaml`ï¼Œå®Œå–„ runtime_envs é…ç½®ï¼š

```
    runtime_envs:
      # ç³»ç»Ÿç¯å¢ƒå˜é‡
      # æ¨¡å‹åç§°
      MODEL_AGENT_NAME: deepseek-v3-1-terminus
      # ç«å±±å¼•æ“è®¿é—®å¯†é’¥
      VOLCENGINE_ACCESS_KEY: 
      VOLCENGINE_SECRET_KEY: 
      # å·¥å…·ID
      AGENTKIT_TOOL_ID: 
      # TOS å­˜å‚¨æ¡¶åç§°
      TOS_BUCKET_NAME: ai-coding-agentkit-{{account_id}}
```

#### å®‰è£…agentkit cli

1. ç¡®ä¿å·²å®‰è£… Python 3.12 æˆ–ä»¥ä¸Šç‰ˆæœ¬
2. å®‰è£… agentkit cliï¼š

```bash
pip3 install -U agentkit-sdk-python  --index-url https://artifacts-cn-beijing.volces.com/repository/agentkit/simple/ --extra-index-url https://mirrors.volces.com/pypi/simple/
```

#### éƒ¨ç½²åˆ°AgentKit & éªŒè¯

1. é…ç½®ç¯å¢ƒå˜é‡

```
export VOLCENGINE_ACCESS_KEY=your_actual_access_key
export VOLCENGINE_SECRET_KEY=your_actual_secret_key
```

2. åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œéƒ¨ç½²å‘½ä»¤ï¼š

```bash
agentkit launch
```

3. éƒ¨ç½²å®Œæˆåï¼Œæ‰§è¡ŒéªŒè¯

```bash
agentkit invoke --payload '{"prompt": "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªpython3 çš„å‡½æ•°ï¼Œè®¡ç®—ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œ"}' 

agentkit invoke --payload '{"prompt": "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ª ERPç³»ç»Ÿçš„ç®¡ç†åå°é¡µé¢ï¼Œ è¾“å‡ºä¸€ä¸ªå¯ä»¥é¢„è§ˆçš„demoé¦–é¡µé¡µé¢"}' 
```

### 3. éƒ¨ç½²åˆ°äº‘ä¸Šï¼ˆç›´æ¥ä»é•œåƒéƒ¨ç½²ï¼Œæ— éœ€æœ¬åœ°ä»£ç ï¼‰

#### åˆ›å»º Runtime

1. å»ç«å±±å¼•æ“ AgentKit æ§åˆ¶å°ï¼Œæ–°å»º Runtime
2. å¡«å†™ Runtimeçš„åŸºç¡€ä¿¡æ¯ï¼š åç§°ã€æè¿°ç­‰
3. å¡«å†™ Runtimeçš„é•œåƒåœ°å€ï¼Œ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é•œåƒåœ°å€

```
agentkit-toolkit-cli-m0fi-cn-beijing.cr.volces.com/agentkit/ai_coding_agent:20251118103330
```

4. å¡«å†™ Runtimeçš„ç¯å¢ƒå˜é‡ï¼Œ å‚è€ƒ 1. å‰ç½®å‡†å¤‡ ä¸­çš„é…ç½®

```
# æ¨¡å‹åç§°
MODEL_AGENT_NAME: deepseek-v3-1-terminus
# ç«å±±å¼•æ“è®¿é—®å¯†é’¥
VOLCENGINE_ACCESS_KEY: 
VOLCENGINE_SECRET_KEY: 
# å·¥å…·ID
AGENTKIT_TOOL_ID: 
# TOS å­˜å‚¨æ¡¶åç§°
TOS_BUCKET_NAME: 
```

5. éƒ¨ç½²å‘å¸ƒ Runtime

#### æµ‹è¯• Runtime

1. å»ç«å±±å¼•æ“ AgentKit æ§åˆ¶å°ï¼ŒæŸ¥è¯¢ Runtime åˆ—è¡¨ï¼Œ æ‰¾åˆ°åˆšåˆ›å»ºçš„ Runtime
2. ç‚¹å‡»"è°ƒè¯•"æŒ‰é’®ï¼Œå®Œå–„è¯·æ±‚ä¿¡æ¯
   - å¡«å†™headerï¼š user_id: user1, session_id: session1
   - å¡«å†™æµ‹è¯• payloadï¼š

   ```json
   {
       "prompt": "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªpython3 çš„å‡½æ•°ï¼Œè®¡ç®—ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œ"
   }
   ```
3. ç‚¹å‡»"æ‰§è¡Œ"ï¼ŒæŸ¥çœ‹è¿”å›ç»“æœ

![alt text](img/image-2.png)

## å®é™…æ•ˆæœ

1. ç”Ÿæˆé™æ€é¡µé¢

![alt text](img/image-1.png)

2. åç«¯ä»£ç 

![alt text](img/image.png)

## è§‚æµ‹

1. å»ç«å±±å¼•æ“ AgentKit æ§åˆ¶å°ï¼ŒæŸ¥è¯¢ Runtime åˆ—è¡¨ï¼Œ æ‰¾åˆ°åˆšåˆ›å»ºçš„ Runtimeï¼Œ è¿›å…¥åˆ° Runtime è¯¦æƒ…é¡µ
2. ç‚¹å‡»"è§‚æµ‹"æŒ‰é’®ï¼Œ å¯ä»¥æŸ¥çœ‹ Runtime çš„è¿è¡Œæ—¥å¿—ã€æŒ‡æ ‡ã€è¿½è¸ªä¿¡æ¯ç­‰

![alt text](img/image-3.png)

![alt text](img/image-4.png)
